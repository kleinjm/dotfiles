Dry::Struct::Error: [Auth::RevokeUserSessionService.new] nil (NilClass) has invalid type for :user_session violates constraints (type?(UserSession(id: integer, login_attempt_id: integer, user_device_id: integer, person_id: integer, uuid: uuid, identifier: string, token: string, password_auth_at: datetime, email: string, email_auth_at: datetime, phone_number: string, sms_auth_at: datetime, expires_at: datetime, revoked_at: datetime, created_at: datetime, updated_at: datetime, remember: boolean, last_activity_at: datetime), nil) failed)
block in Dry::Types::Schema#resolve_unsafe(/app/vendor/bundle/ruby/3.4.0/gems/dry-types-1.8.3/lib/dry/types/schema.rb:330)

Hash#each(/app/vendor/bundle/ruby/3.4.0/gems/dry-types-1.8.3/lib/dry/types/schema.rb:322)

Dry::Types::Schema#resolve_unsafe(/app/vendor/bundle/ruby/3.4.0/gems/dry-types-1.8.3/lib/dry/types/schema.rb:322)

Dry::Types::Schema#call_unsafe(/app/vendor/bundle/ruby/3.4.0/gems/dry-types-1.8.3/lib/dry/types/schema.rb:60)

Dry::Types::Constructor#call_unsafe(/app/vendor/bundle/ruby/3.4.0/gems/dry-types-1.8.3/lib/dry/types/constructor.rb:80)

Dry::Struct::ClassInterface#new(/app/vendor/bundle/ruby/3.4.0/gems/dry-struct-1.8.0/lib/dry/struct/class_interface.rb:254)

ServiceBase::Service.call(/app/vendor/bundle/ruby/3.4.0/gems/service_base-1.1.0/lib/service_base/service.rb:36)

Authentication#log_out(/app/app/controllers/concerns/authentication.rb:255)

block in Auth::SessionsController#destroy(/app/app/controllers/auth/sessions_controller.rb:5)

ScoutApm.AutoInstrument(/app/vendor/bundle/ruby/3.4.0/gems/scout_apm-6.0.2/lib/scout_apm/auto_instrument/layer.rb:17)

Auth::SessionsController#destroy(/app/app/controllers/auth/sessions_controller.rb:5)

ActionController::BasicImplicitRender#send_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_controller/metal/basic_implicit_render.rb:8)

AbstractController::Base#process_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/abstract_controller/base.rb:215)

process_action(/app/vendor/bundle/ruby/3.4.0/gems/scout_apm-6.0.2/lib/scout_apm/instruments/action_controller_rails_3_rails4.rb:103)

ActionController::Rendering#process_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_controller/metal/rendering.rb:193)

block in AbstractController::Callbacks#process_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/abstract_controller/callbacks.rb:261)

block in ActiveSupport::Callbacks#run_callbacks(/app/vendor/bundle/ruby/3.4.0/gems/activesupport-8.0.4/lib/active_support/callbacks.rb:120)

Turbo.with_request_id(/app/vendor/bundle/ruby/3.4.0/gems/turbo-rails-2.0.20/lib/turbo-rails.rb:24)

Turbo::RequestIdTracking#turbo_tracking_request_id(/app/vendor/bundle/ruby/3.4.0/gems/turbo-rails-2.0.20/app/controllers/concerns/turbo/request_id_tracking.rb:10)

block in ActiveSupport::Callbacks#run_callbacks(/app/vendor/bundle/ruby/3.4.0/gems/activesupport-8.0.4/lib/active_support/callbacks.rb:129)

ActiveSupport::Callbacks#run_callbacks(/app/vendor/bundle/ruby/3.4.0/gems/activesupport-8.0.4/lib/active_support/callbacks.rb:140)

AbstractController::Callbacks#process_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/abstract_controller/callbacks.rb:260)

ActionController::Rescue#process_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_controller/metal/rescue.rb:27)

block in ActionController::Instrumentation#process_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_controller/metal/instrumentation.rb:76)

block in ActiveSupport::Notifications.instrument(/app/vendor/bundle/ruby/3.4.0/gems/activesupport-8.0.4/lib/active_support/notifications.rb:210)

ActiveSupport::Notifications::Instrumenter#instrument(/app/vendor/bundle/ruby/3.4.0/gems/activesupport-8.0.4/lib/active_support/notifications/instrumenter.rb:58)

ActiveSupport::Notifications.instrument(/app/vendor/bundle/ruby/3.4.0/gems/activesupport-8.0.4/lib/active_support/notifications.rb:210)

ActionController::Instrumentation#process_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_controller/metal/instrumentation.rb:75)

ActionController::ParamsWrapper#process_action(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_controller/metal/params_wrapper.rb:259)

ActiveRecord::Railties::ControllerRuntime#process_action(/app/vendor/bundle/ruby/3.4.0/gems/activerecord-8.0.4/lib/active_record/railties/controller_runtime.rb:39)

process_action(/app/vendor/bundle/ruby/3.4.0/gems/scout_apm-6.0.2/lib/scout_apm/instruments/action_controller_rails_3_rails4.rb:120)

AbstractController::Base#process(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/abstract_controller/base.rb:152)

ActionView::Rendering#process(/app/vendor/bundle/ruby/3.4.0/gems/actionview-8.0.4/lib/action_view/rendering.rb:40)

ActionController::Metal#dispatch(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_controller/metal.rb:252)

ActionController::Metal.dispatch(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_controller/metal.rb:335)

ActionDispatch::Routing::RouteSet::Dispatcher#dispatch(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/routing/route_set.rb:67)

ActionDispatch::Routing::RouteSet::Dispatcher#serve(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/routing/route_set.rb:50)

block in ActionDispatch::Journey::Router#serve(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/journey/router.rb:53)

block in ActionDispatch::Journey::Router#find_routes(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/journey/router.rb:133)

Array#each(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/journey/router.rb:126)

ActionDispatch::Journey::Router#find_routes(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/journey/router.rb:126)

ActionDispatch::Journey::Router#serve(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/journey/router.rb:34)

ActionDispatch::Routing::RouteSet#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/routing/route_set.rb:908)

ActionDispatch::Routing::RouteSet#call_with_scout_instruments(/app/vendor/bundle/ruby/3.4.0/gems/scout_apm-6.0.2/lib/scout_apm/instruments/rails_router.rb:29)

Flipper::Middleware::Memoizer#memoized_call(/app/vendor/bundle/ruby/3.4.0/gems/flipper-1.3.6/lib/flipper/middleware/memoizer.rb:87)

Flipper::Middleware::Memoizer#call(/app/vendor/bundle/ruby/3.4.0/gems/flipper-1.3.6/lib/flipper/middleware/memoizer.rb:45)

ScoutApm::Middleware#call(/app/vendor/bundle/ruby/3.4.0/gems/scout_apm-6.0.2/lib/scout_apm/middleware.rb:17)

HandleErrorsMiddleware#call(/app/lib/middleware/handle_errors_middleware.rb:9)

Rack::Static#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-3.2.4/lib/rack/static.rb:162)

Rack::TempfileReaper#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-3.2.4/lib/rack/tempfile_reaper.rb:20)

Rack::ETag#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-3.2.4/lib/rack/etag.rb:29)

Rack::ConditionalGet#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-3.2.4/lib/rack/conditional_get.rb:44)

Rack::Head#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-3.2.4/lib/rack/head.rb:15)

ActionDispatch::PermissionsPolicy::Middleware#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/http/permissions_policy.rb:38)

ActionDispatch::ContentSecurityPolicy::Middleware#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/http/content_security_policy.rb:38)

Rack::Session::Abstract::Persisted#context(/app/vendor/bundle/ruby/3.4.0/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274)

Rack::Session::Abstract::Persisted#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268)

ActionDispatch::Cookies#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/cookies.rb:706)

block in ActionDispatch::Callbacks#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/callbacks.rb:31)

ActiveSupport::Callbacks#run_callbacks(/app/vendor/bundle/ruby/3.4.0/gems/activesupport-8.0.4/lib/active_support/callbacks.rb:100)

ActionDispatch::Callbacks#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/callbacks.rb:30)

block in Rollbar::Middleware::Rails::RollbarMiddleware#call(/app/vendor/bundle/ruby/3.4.0/gems/rollbar-3.7.0/lib/rollbar/middleware/rails/rollbar.rb:25)

Rollbar.scoped(/app/vendor/bundle/ruby/3.4.0/gems/rollbar-3.7.0/lib/rollbar.rb:145)

Rollbar::Middleware::Rails::RollbarMiddleware#call(/app/vendor/bundle/ruby/3.4.0/gems/rollbar-3.7.0/lib/rollbar/middleware/rails/rollbar.rb:22)

ActionDispatch::DebugExceptions#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/debug_exceptions.rb:31)

Rollbar::Middleware::Rails::ShowExceptions#call_with_rollbar(/app/vendor/bundle/ruby/3.4.0/gems/rollbar-3.7.0/lib/rollbar/middleware/rails/show_exceptions.rb:27)

ActionDispatch::ShowExceptions#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/show_exceptions.rb:32)

Rails::Rack::Logger#call_app(/app/vendor/bundle/ruby/3.4.0/gems/lograge-0.14.0/lib/lograge/rails_ext/rack/logger.rb:18)

Rails::Rack::Logger#call(/app/vendor/bundle/ruby/3.4.0/gems/railties-8.0.4/lib/rails/rack/logger.rb:29)

ActionDispatch::RemoteIp#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/remote_ip.rb:96)

RequestStore::Middleware#call(/app/vendor/bundle/ruby/3.4.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19)

ActionDispatch::RequestId#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/request_id.rb:34)

Rack::MethodOverride#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-3.2.4/lib/rack/method_override.rb:28)

Rack::Runtime#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-3.2.4/lib/rack/runtime.rb:24)

ActiveSupport::Cache::Strategy::LocalCache::Middleware#call(/app/vendor/bundle/ruby/3.4.0/gems/activesupport-8.0.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29)

ActionDispatch::Executor#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/executor.rb:16)

ActionDispatch::Static#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/static.rb:27)

Rack::Sendfile#call(/app/vendor/bundle/ruby/3.4.0/gems/rack-3.2.4/lib/rack/sendfile.rb:131)

ActionDispatch::SSL#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/ssl.rb:92)

ActionDispatch::HostAuthorization#call(/app/vendor/bundle/ruby/3.4.0/gems/actionpack-8.0.4/lib/action_dispatch/middleware/host_authorization.rb:143)

ScoutApm::Instruments::MiddlewareSummary::MiddlewareSummaryWrapper#call(/app/vendor/bundle/ruby/3.4.0/gems/scout_apm-6.0.2/lib/scout_apm/instruments/middleware_summary.rb:58)

Rails::Engine#call(/app/vendor/bundle/ruby/3.4.0/gems/railties-8.0.4/lib/rails/engine.rb:535)

Puma::Configuration::ConfigMiddleware#call(/app/vendor/bundle/ruby/3.4.0/gems/puma-7.1.0/lib/puma/configuration.rb:300)

block in Puma::Request#handle_request(/app/vendor/bundle/ruby/3.4.0/gems/puma-7.1.0/lib/puma/request.rb:101)

Puma::ThreadPool#with_force_shutdown(/app/vendor/bundle/ruby/3.4.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:355)

Puma::Request#handle_request(/app/vendor/bundle/ruby/3.4.0/gems/puma-7.1.0/lib/puma/request.rb:100)

Puma::Server#process_client(/app/vendor/bundle/ruby/3.4.0/gems/puma-7.1.0/lib/puma/server.rb:503)

block in Puma::Server#run(/app/vendor/bundle/ruby/3.4.0/gems/puma-7.1.0/lib/puma/server.rb:262)

block in Puma::ThreadPool#spawn_thread(/app/vendor/bundle/ruby/3.4.0/gems/puma-7.1.0/lib/puma/thread_pool.rb:182)